#include <stdio.h>      // Подключаем стандартную библиотеку для ввода-вывода (printf)
#include <stdlib.h>     // Подключаем стандартную библиотеку для работы с памятью (malloc, free)
#include <ctype.h>      // Для проверки символов (isdigit)

#define MAX 100         // Максимальный размер стека

// Функция вычисления значения выражения в обратной польской записи (ПОЛИЗ)
int evalRPN(char *expr) {
    int stack[MAX], top = -1;      // Объявляем стек и переменную для вершины стека
    for (int i = 0; expr[i]; i++) { // Проходим по каждому символу выражения
        if (isdigit(expr[i])) {      // Если текущий символ — цифра
            stack[++top] = expr[i] - '0'; // Преобразуем символ в число и кладём на стек
        } else if (expr[i] == ' ') { // Если пробел — пропускаем
            continue;
        } else { // Если встретили оператор (+, -, *, /)
            int b = stack[top--]; // Берём второй операнд (верхний элемент стека)
            int a = stack[top--]; // Берём первый операнд (следующий элемент стека)
            if (expr[i] == '+') {
            stack[++top] = a + b; // Складываем и кладём результат обратно в стек
            } else if (expr[i] == '-') {
            stack[++top] = a - b; // Вычитаем и кладём результат обратно в стек
            } else if (expr[i] == '*') {
            stack[++top] = a * b; // Умножаем и кладём результат обратно в стек
            } else if (expr[i] == '/') {
            stack[++top] = a / b; // Делим и кладём результат обратно в стек
            }
        }
    }
    return stack[top];               // Возвращаем результат (на вершине стека)
}

int main() {
    char expr[] = "2 3 + 4 *";       // Пример выражения: (2 + 3) * 4 = 20
    printf("Result: %d\n", evalRPN(expr)); // Выводим результат вычисления                        // Завершаем программу
}





// #include <stdio.h>      // Подключаем стандартную библиотеку для ввода-вывода (printf)
// #include <stdlib.h>     // Подключаем стандартную библиотеку для работы с памятью (malloc, free)
// #include <ctype.h>      // Для проверки символов (isdigit)

// #define MAX 100         // Максимальный размер стека

// // Функция вычисления значения выражения в обратной польской записи (ПОЛИЗ)
// int evalRPN(char *expr) {
//     int stack[MAX], top = -1;      // Объявляем стек и переменную для вершины стека
//     for (int i = 0; expr[i]; i++) { // Проходим по каждому символу выражения
//         if (isdigit(expr[i])) {      // Если текущий символ — цифра
//             stack[++top] = expr[i] - '0'; // Преобразуем символ в число и кладём на стек
//         } else if (expr[i] == ' ') { // Если пробел — пропускаем
//             continue;
//         } else {                     // Если оператор (+, -, *, /)
//             int b = stack[top--];    // Снимаем второй операнд со стека
//             int a = stack[top--];    // Снимаем первый операнд со стека
//             switch (expr[i]) {       // Выполняем операцию
//                 case '+': stack[++top] = a + b; break; // Складываем
//                 case '-': stack[++top] = a - b; break; // Вычитаем
//                 case '*': stack[++top] = a * b; break; // Умножаем
//                 case '/': stack[++top] = a / b; break; // Делим
//             }
//         }
//     }
//     return stack[top];               // Возвращаем результат (на вершине стека)
// }

// int main() {
//     char expr[] = "2 3 + 4 *";       // Пример выражения: (2 + 3) * 4 = 20
//     printf("Result: %d\n", evalRPN(expr)); // Выводим результат вычисления
//     return 0;                        // Завершаем программу
// }